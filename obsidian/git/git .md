---
number headings: first-level 1, max 6, 1.1
---
# 简介
![[Pasted image 20241105171106.png]]
**主要特点**：

- 开源免费，使用广泛。
- 强大的文档（代码）的历史版本管理，直接记录完整快照（完整内容，而非差异），支持回滚、对比。
- 分布式多人协作的的代码协同开发，几乎所有操作都是本地执行的，支持代码合并、代码同步。
- 简单易用的分支管理，支持高效的创建分支、合并分支。

# Git是干什么的？—基础概念
先了解下Git的基本概念，及基本框架、工作流程。
## Git概念汇总🔥

| **概念名称**                      | **描述**                                                                               |
| ----------------------------- | ------------------------------------------------------------------------------------ |
| **工作区**（Workspace）            | 就是在电脑里能看到的代码库目录，是我们搬砖的地方，新增、修改的文件会提交到暂存区                                             |
| **暂存区**（stage 或 index）        | 用于临时存放文件的修改，实际上上它只是一个文件（`.git/index`），保存待提交的文件列表信息。                                  |
| **版本库/仓库**（Repository）        | Git的管理仓库，管理版本的数据库，记录文件/目录状态的地方，所有内容的修改记录（版本）都在这里。工作区有一个隐藏目录`.git`，这个不算工作区，而是Git的版本库。 |
| **服务端/远程仓库**（origin 或 remote） | 服务端的版本库，专用的Git服务器，为多人共享提供服务，承担中心服务器的角色。本地版本库通过push指令把代码推送到服务端版本库。                    |
| **本地仓库**                      | 用户机器上直接使用的的的版本库                                                                      |
| **分支**（Branch）                | 分支是从主线分离出去的“副本”，可以独立操作而互不干扰，仓库初始化就有一个默认主分支`master`。                                  |
| **头**（HEAD）                   | HEAD类似一个“指针”，指向当前活动 **分支** 的 **最新版本**。                                               |
| **提交**（Commit）                | 把暂存区的所有变更的内容提交到当前仓库的活动分支。                                                            |
| **推送**（Push）                  | 将本地仓库的版本推送到服务端（远程）仓库，与他人共享。                                                          |
| **拉取**（Pull）                  | 从服务端（远程）仓库获取更新到本地仓库，获取他人共享的更新。                                                       |
| **获取**（Fetch）                 | 从服务端（远程）仓库更新，作用同拉取（Pull），区别是不会自动合并。                                                  |
| **冲突**（Conflict）              | 多人对同一文件的工作副本进行更改，并将这些更改合并到仓库时就会面临冲突，需要人工合并处理。                                        |
| **合并**（Merge）                 | 对有冲突的文件进行合并操作，Git会自动合并变更内容，无法自动处理的冲突内容会提示人工处理。                                       |
| **标签**（Tags）                  | 标签指的是某个分支某个特定时间点的状态，可以理解为提交记录的别名，常用来标记版本。                                            |
| **master**（或main）             | 仓库的“`master`”分支，默认的主分支，初始化仓库就有了。Github上创建的仓库默认名字为“`main`”                            |
| **origin/master**             | 表示远程仓库（`origin`）的“`master`”分支                                                        |
| **origin/HEAD**               | 表示远程仓库（`origin`）的最新提交的位置，一般情况等于“`origin/master`”                                     |

## 工作区/暂存区/仓库
![[Pasted image 20241105171641.png]]

工作区、暂存区、版本库是Git最基本的概念，关系如下图：
![[Pasted image 20241105171704.png]]
**🔸工作区**（Workspace）就是在电脑里能看到的代码库目录，是我们搬砖的地方，新增、修改的文件会提交到暂存区。

- 在这里新增文件、修改文件内容，或删除文件。

**🔸暂存区**（stage或index） 用于临时存放文件的修改，实际上上它只是一个文件（.git/index），保存待提交的文件列表信息。

- 用`git add` 命令将工作区的修改保存到暂存区。

**🔸版本库/仓库**（Repository /rɪˈpɑːzətɔːri/ 仓库）Git的管理仓库，管理版本的数据库，记录文件/目录状态的地方，所有内容的修改记录（版本）都在这里。就是工作区目录下的隐藏文件夹`.git`，包含暂存区、分支、历史记录等信息。

- 用`git commit` 命令将暂存区的内容正式提交到版本库。
- `master` 为仓库的默认分支`master`，**HEAD**是一个“指针”指向当前分支的最新提交，默认指向最新的`master`。
![[Pasted image 20241105171750.png]]
如上图，为对应本地仓库目录的结构关系。

- `KWebNote`为项目目录，也就是Git工作区。
- 项目根目录下隐藏的`.git`目录就是Git仓库目录了，存放了所有Git管理的信息。
- `.git/config`为该仓库的配置文件，可通过指令修改或直接修改。
- `index`文件就是存放的暂存区内容。
## Git基本流程（图）

Git的工作流程核心就下面几个步骤，掌握了就可以开始写Bug了。

- 0、**准备仓库**：创建或从服务端克隆一个仓库。
- 1、**搬砖**：在工作目录中添加、修改代码。
- 2、**暂存**（git add）：将需要进行版本管理的文件放入暂存区域。
- 3、**提交**（git commit）：将暂存区域的文件提交到Git仓库。
- 4、**推送**（git push）：将本地仓库推送到远程仓库，同步版本库。
- 5、**获取更新**（fetch/pull）：从服务端更新到本地，获取他人推送的更新，与他人协作、共享。
![[Pasted image 20241105171823.png]]
- `git commit -a`指令省略了`add`到暂存区的步骤，直接提交工作区的修改内容到版本库，不包括新增的文件。
- `git fetch`、`git pull` 都是从远程服务端获取最新记录，区别是`git pull`多了一个步骤，就是自动合并更新工作区。
- `git checkout .`、`git checkout [file]` 会清除工作区中未添加到暂存区的修改，用暂存区内容替换工作区。
- `git checkout HEAD .`、`git checkout HEAD [file]` 会清除工作区、暂存区的修改，用HEAD指向的当前分支最新版本替换暂存区、工作区。
- `git diff` 用来对比不同部分之间的区别，如暂存区、工作区，最新版本与未提交内容，不同版本之间等。
- `git reset`是专门用来撤销修改、回退版本的指令，替代上面`checkout`的撤销功能。

